<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Cinema Management System</title>
    <link rel="stylesheet" th:href="@{/css/auth-register.css?v=1}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="register-page">
        <!-- Left Section - Welcome -->
        <div class="left-section">
            <div class="home-button">
                <a href="/">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                        <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                    Home
                </a>
            </div>
            
            <div class="welcome-content">
                <h1>Join Cinema<br>Management!</h1>
                <p class="subtitle">Create your account and start enjoying our cinema management platform today.</p>
                
                <div class="features-list">
                    <div class="feature-item">
                        <span class="icon">✓</span>
                        <span>Easy booking management</span>
                    </div>
                    <div class="feature-item">
                        <span class="icon">✓</span>
                        <span>Real-time notifications</span>
                    </div>
                    <div class="feature-item">
                        <span class="icon">✓</span>
                        <span>Secure and reliable</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Right Section - Register Form -->
        <div class="right-section">
            <div class="register-card">
                <div class="register-header">
                    <h2>Create Account</h2>
                    <p>Fill in your details to get started</p>
                </div>
                
                <!-- Alert Messages -->
                <div th:if="${error}" class="alert alert-error">
                    <span th:text="${error}"></span>
                </div>
                
                <!-- Register Form -->
                <form th:action="@{/auth/register}" th:object="${registerRequest}" method="post" id="registerForm">
                    
                    <!-- Full Name Input -->
                    <div class="form-group">
                        <label for="fullName">Full Name <span class="required">*</span></label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                    <circle cx="12" cy="7" r="4"/>
                                </svg>
                            </span>
                            <input 
                                type="text" 
                                id="fullName" 
                                th:field="*{fullName}" 
                                required 
                                placeholder="Enter your full name"
                                minlength="2"
                                maxlength="100"
                            >
                        </div>
                        <span class="error-message" th:errors="*{fullName}"></span>
                    </div>
                    
                    <!-- Email Input -->
                    <div class="form-group">
                        <label for="email">Email <span class="required">*</span></label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                    <polyline points="22,6 12,13 2,6"/>
                                </svg>
                            </span>
                            <input 
                                type="email" 
                                id="email" 
                                th:field="*{email}" 
                                required 
                                placeholder="Enter your email"
                            >
                        </div>
                        <span class="error-message" th:errors="*{email}"></span>
                    </div>
                    
                    <!-- Phone Input -->
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                </svg>
                            </span>
                            <input 
                                type="tel" 
                                id="phone" 
                                th:field="*{phone}" 
                                placeholder="0912345678"
                                pattern="^(\+84|0)[0-9]{9}$"
                            >
                        </div>
                        <span class="error-message" th:errors="*{phone}"></span>
                    </div>
                    
                    <!-- Password Input -->
                    <div class="form-group">
                        <label for="password">Password <span class="required">*</span></label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                            </span>
                            <input 
                                type="password" 
                                id="password" 
                                th:field="*{password}" 
                                required 
                                placeholder="Enter your password"
                                minlength="6"
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('password')" aria-label="Toggle password visibility">
                                <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            </button>
                        </div>
                        <span class="error-message" th:errors="*{password}"></span>
                    </div>
                    
                    <!-- Confirm Password Input -->
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password <span class="required">*</span></label>
                        <div class="input-wrapper">
                            <span class="input-icon">
                                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                                </svg>
                            </span>
                            <input 
                                type="password" 
                                id="confirmPassword" 
                                th:field="*{confirmPassword}" 
                                required 
                                placeholder="Confirm your password"
                            >
                            <button type="button" class="toggle-password" onclick="togglePassword('confirmPassword')" aria-label="Toggle confirm password visibility">
                                <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                            </button>
                        </div>
                        <span class="error-message" th:errors="*{confirmPassword}"></span>
                    </div>
                    
                    <!-- Register Button -->
                    <button type="submit" class="btn-register">Create Account</button>
                    
                </form>
                
                <!-- Login Link -->
                <div class="login-link">
                    Already have an account? <a href="/auth/login">Login here</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Message</h3>
                <button class="modal-close" onclick="closeModal()">×</button>
            </div>
            <div class="modal-body">
                <div id="modalIcon" class="modal-icon"></div>
                <p id="modalMessage">This is a message</p>
            </div>
            <div class="modal-footer">
                <button class="btn-modal" onclick="closeModal()">OK</button>
            </div>
        </div>
    </div>
    
    <script th:src="@{/js/auth-register.js?v=1}"></script>
</body>
</html>
